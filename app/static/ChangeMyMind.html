<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Change My Mind</title>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="chat-style.css">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="google-signin-scope" content="profile email">
	<meta name="google-signin-client_id" content=739915422482-gmra2df2r5tvlp0aktbt6l8pvb9gndfr.apps.googleusercontent.com>
	<script src="https://apis.google.com/js/platform.js" async defer></script>
  <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
  </head>
  <body>
	<ul>
		<li><a href="ChangeMyMind.html">Home</a></li>
		<li><a href="#" onclick="signOut();" id="signout">Sign Out</a></li>
		<li><div class="g-signin2" data-onsuccess="onSignedIn"></div></li>
	</ul>
	<script>
		function onSignIn(){
		  var profile = googleUser.getBasicProfile();
		  document.getElementById('profileinfo').innerHTML = profile.getName() + "<br>"
		}
		function signOut() {
		  var auth2 = gapi.auth2.getAuthInstance();
		  auth2.signOut();
			
          const signoutElement = document.getElementById('signout');
		  signoutElement.innerHTML =
			  'Sign out'
		}
		function onSignedIn(googleUser) {
		  const signoutElement = document.getElementById('signout');
		  signoutElement.innerHTML =
			  'Sign out ' + googleUser.getBasicProfile().getEmail();
              
        var id_token = googleUser.getAuthResponse().id_token;
        //console.log("ID Token: " + id_token);
        send_token(id_token);
		}
        function send_token(user_token){
            console.log("login_info_sent")
            $.ajax({
                    type: "GET",
                    url: "/get_token",
                    data: {user_token: user_token},
                    success: function(response) {
                        console.log(response);
                    }
                }).done(function(data){
                    console.log(data);
                });
            }
	</script>
	<script src="https://apis.google.com/js/platform.js" async defer></script>
	<!-- Header -->
	<h1><br/></h1>
    <h1 align="center" font-family="sans-serif" id= text>Are you ready for a debate?</h1>
    
<body>
<div class="slideshow-container">
<div class="mySlides fade">
  <img id = row src="changemymind.jpg" height="300">
  <img id = row src="meme.jpg" height="300">
  <img id = row src="meme1.jpg" height="300">
  <img id= row src="Untitled.jpg" height="300">
</div>
<div class="mySlides fade">
  <img id= row src="change-my-mind-meme-33-photos-21.jpg" height="300">
  <img id= row src="25v435.jpg" height="300">
  <img id= row src="maxresdefault.jpg" height="300">
  <img id= row src="th.jpg" height="300">
</div>
<div class="mySlides fade">
  <img id= row src="WiiSportsFortnite.png">
  <img id= row src="browsers.jpg">
  <img id= row src="download.jpg">
  <img id= row src="ifs.jpg">
</div>
<div class="mySlides fade">
  <img id= row src="rotate.jpg">
  <img id= row src="assembl.jpg">
  <img id= row src="admi.jpg">
  <img id= row src="nulll.jpg">
</div>
<br>

<script>
var slideIndex = 0;
showSlides();

function showSlides() {
  var i;
  var slides = document.getElementsByClassName("mySlides");
  for (i = 0; i < slides.length; i++) {
    slides[i].style.display = "none";  
  }
  slideIndex++;
  if (slideIndex > slides.length) {slideIndex = 1}    
  slides[slideIndex-1].style.display = "block";  
  slides[slideIndex-1].style.marginLeft = "auto";
  slides[slideIndex-1].style.marginRight = "auto";
  setTimeout(showSlides, 5000); // Change image every 2 seconds
}
</script>
<div id= send>
  <button id="frontbutton">Let's Debate!!</button>
</div>

<!-- The Modal -->
<div id="myModal" class="modal">
  <!-- Modal content -->
  <div class="modal-content">
    <div class="modal-header">
      <span class="close">&times;</span>
      <h2>What kind of debate are you looking for?</h2>
    </div>
    <div class="modal-body">
		<form method="get" name="InterestForm" action="chatbox.html">
			<div>
				<select required class="form-control" id="interest">
				  <option selected hidden value="">Interest*</option>
				  <option value="PvsW">Are pancakes better than waffles?</option>
				  <option value="cereal">Is Milk Cereal Sauce?</option>
				  <option value="Eat?">If you were starving, would you eat the characters from Veggie Tales?</option>
				  <option value="Best Apocalypse">Would a zombie apocalypse actually be kind of a good time?</option>
				  <option value="tvss">Are tabs better than spaces?</option>
				</select>
			</div>
			<div>
				 Position:<br>
                    <input type= "radio" name= "position" value ="Yes" required>Yes<br>
                   <input type= "radio" name= "position" value ="no">No
			</div>
			<div id = frontbutton>
			  <input id= frontbutton1 type="submit" value="Battle to the Death!">
			</div>
		</form>
    </div>
    <div class="modal-footer">
      <h3>Get ready for a debate!</h3>
    </div>
  </div>
</div>

<script>
// Get the modal
var modal = document.getElementById('myModal');

// Get the button that opens the modal
var btn = document.getElementById("frontbutton");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks the button, open the modal 
btn.onclick = function() {
  modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}
</script>

</body>
</html>
